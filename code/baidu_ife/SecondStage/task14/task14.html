<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>任务十四：零基础JavaScript编码（二）</title>
</head>
<body>
	<h3>污染城市列表</h3>
	<ul id="aqi-list">
<!--   
    <li>第一名：福州（样例），10</li>
  	<li>第二名：福州（样例），10</li> -->
	</ul>

	<script type="text/javascript">

		var aqiData = [
			["北京", 90],
			["上海", 50],
			["福州", 10],
			["广州", 50],
			["成都", 90],
			["西安", 100]
		];

		(function () {

		  /*
		  在注释下方编写代码
		  遍历读取aqiData中各个城市的数据
		  将空气质量指数大于60的城市显示到aqi-list的列表中
		  */
			var aqiList = document.getElementById('aqi-list');
			var arr = [];

			/*选出质量指数大于60的城市有两方法*/
			/*方法一*/
			/*遍历读取aqiData中各个城市的数据，比较符合题目要求*/
			// for(var i=0; i < aqiData.length; i++) {
			// 	if(aqiData[i][1] > 60) {
			// 		// var oLi = document.createElement('li');
			// 		// oLi.innerHTML = aqiData[i][0] + '(样例), ' + aqiData[i][1];
			// 		// aqiList.appendChild(oLi);
			// 		arr.push(aqiData[i]);
			// 	}
			// }

			/*方法二*/
			/*偷懒*/
			// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter
			arr = aqiData.filter(function(item) {
				return item[1] > 60;
			});

			arr.sort(function(item1, item2) {
				return item2[1] - item1[1];
			});

			for(var i=0; i < arr.length; i++) {
					/*显示到aqi-list的列表中*/
					/*为了避开appendChild带来的负作用（重绘页面降低性能），这里建议用方法二*/
					/*方法一*/
					// var oLi = document.createElement('li');
					// oLi.innerHTML = '第' + (i+1) + '名： ' + arr[i][0] + '(样例), ' + arr[i][1];
					// aqiList.appendChild(oLi);

					/*方法二*/
					aqiList.innerHTML += '<li>第' + (i+1) + '名： ' + arr[i][0] + '(样例), ' + arr[i][1] + '</li>';
			}
		})();

	</script>
</body>
</html>